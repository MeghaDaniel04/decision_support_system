<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Smart Decision Helper</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Fraunces:ital,opsz,wght@0,9..144,300;0,9..144,500;0,9..144,700;1,9..144,300&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/static/style.css"/>
<script src="/static/script.js" defer></script>
</head>
<body>

<div class="hero">
  <span class="hero-icon">ğŸ’¡</span>
  <h1>Your guide<br><em>to what fits best</em></h1>
  <p>Complexity is the enemy of progress. Answer a few simple questions and We'll crunch the numbers using advanced decision science â€” no expertise required.</p>
  <div class="method-pills">
    <span class="pill">Fuzzy AHP</span>
    <span class="pill">Entropy Weighting</span>
    <span class="pill">Fuzzy TOPSIS</span>
  </div>
</div>

<div class="progress-bar-wrap">
  <div class="progress-inner">
    <div class="prog-step active" id="ps1" onclick="tryNav(1)">
      <div class="prog-dot" id="pd1">1</div>
      <div class="prog-label">What &amp; Why</div>
    </div>
    <div class="prog-line" id="pl1"></div>
    <div class="prog-step" id="ps2" onclick="tryNav(2)">
      <div class="prog-dot" id="pd2">2</div>
      <div class="prog-label">Your Options</div>
    </div>
    <div class="prog-line" id="pl2"></div>
    <div class="prog-step" id="ps3" onclick="tryNav(3)">
      <div class="prog-dot" id="pd3">3</div>
      <div class="prog-label">What Matters</div>
    </div>
    <div class="prog-line" id="pl3"></div>
    <div class="prog-step" id="ps4" onclick="tryNav(4)">
      <div class="prog-dot" id="pd4">4</div>
      <div class="prog-label">Rate Them</div>
    </div>
    <div class="prog-line" id="pl4"></div>
    <div class="prog-step" id="ps5" onclick="tryNav(5)">
      <div class="prog-dot" id="pd5">5</div>
      <div class="prog-label">Results</div>
    </div>
  </div>
</div>

<div class="main">

<!--â•â•â• PAGE 1: DECISION CONTEXT â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•-->
<div class="screen active" id="screen1">
  <div class="screen-title">What are you trying to <em>decide?</em></div>
  <div class="screen-sub">Give your decision a name â€” this helps you stay focused.</div>

  <div class="card">
    <div class="card-label">I'm trying to decideâ€¦</div>
    <input class="big-input" id="decisionName" placeholder="e.g. Which laptop to buy, Which job offer to acceptâ€¦" oninput="updateDecisionPreview()">
    <div class="hint">
      <span class="hint-icon">ğŸ’¡</span>
      <span>Be specific â€” "which smartphone to buy for my mum" works better than "phone"</span>
    </div>
  </div>

  <div class="card">
    <div class="card-label">Or choose a common decision type</div>
    <div class="presets" id="presetGrid">
      <div class="preset-chip" onclick="pickPreset(this,'Buying a Laptop','laptop')">ğŸ’» Laptop for gamin</div>
      <div class="preset-chip" onclick="pickPreset(this,'Choosing a Job Offer','job')">ğŸ’¼ Best Job Offer</div>
      <div class="preset-chip" onclick="pickPreset(this,'Choosing a University','university')">ğŸ“ University</div>
      <div class="preset-chip" onclick="pickPreset(this,'Picking a Phone','phone')">ğŸ“± Phone</div>
    </div>
  </div>

  <div class="nav-row">
    <div></div>
    <button class="btn-primary" onclick="go2()">Next: My Options â†’</button>
  </div>
</div>

<!-- â•â•â• SCREEN 2: OPTIONS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•-->
<div class="screen" id="screen2">
  <div class="screen-title">What are your <em>options?</em></div>
  <div class="screen-sub" id="s2sub">Add at least 2 things you're comparing.</div>

  <div class="card">
    <div class="card-label">Type an option name and press Enter</div>
    <div class="option-add-row">
      <input class="big-input" id="altInput" placeholder="e.g. Dell XPS 15, MacBook Proâ€¦" onkeydown="altKey(event)">
      <button class="btn-add" onclick="addAlt()">+ Add</button>
    </div>
    <div class="tag-list" id="altTags"></div>
    <div class="hint">
      <span class="hint-icon">ğŸ’¡</span>
      <span>Add 2 to 6 options. Too many choices can make decisions harder!</span>
    </div>
  </div>

  <div class="nav-row">
    <button class="btn-secondary" onclick="goScreen(1)">â† Back</button>
    <button class="btn-primary" onclick="go3()">Next: What Matters â†’</button>
  </div>
</div>

<!-- â•â•â• SCREEN 3a: CRITERIA SETUP â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="screen" id="screen3">
  <div class="screen-title">What <em>matters</em> to you?</div>
  <div class="screen-sub">Add everything you care about.</div>

  <div id="suggestionsBlock" style="display:none">
    <div class="card">
      <div class="card-label">Suggested for your decision</div>
      <div class="presets" id="suggestedCriteria"></div>
      <div class="hint"><span class="hint-icon">ğŸ‘†</span><span>Tap to add. Add as many as you need â€” no limit.</span></div>
    </div>
  </div>

  <div class="card">
    <div class="card-label">Add your own</div>
    <div class="option-add-row">
      <input class="big-input" id="critInput" placeholder="e.g. Price, Warranty, Customer supportâ€¦" onkeydown="critKey(event)">
      <button class="btn-add" onclick="addCrit()">+ Add</button>
    </div>
    <div class="tag-list" id="critTagList" style="margin-top:12px"></div>
  </div>

  <div class="card" id="rankBlock" style="display:none">
    <div class="card-label">Order your criteria</div>
    <div id="sortableList" class="sortable-list"></div>
    <div class="hint"><span class="hint-icon">â†•</span><span>Drag to reorder criteria by importance (top = most important).</span></div>
  </div>

  <div class="card" id="compareBlock" style="display:none">
    <div class="card-label">Quick neighbor comparisons</div>
    <div id="compareCountBar" class="compare-count-bar"></div>
    <div id="compareCards"></div>
  </div>

  <div class="nav-row">
    <button class="btn-secondary" onclick="goScreen(2)">â† Back</button>
    <button class="btn-primary" onclick="go4()">Next: Set Priorities â†’</button>
  </div>
</div>

<!-- â•â•â• SCREEN 3b: ONE-AT-A-TIME PAIRWISE â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="screen" id="screen3b">
  <!-- Header stays fixed -->
  <div style="margin-bottom:20px">
    <div class="screen-title" id="cmpTitle">Which matters <em>more?</em></div>
    <div class="screen-sub" id="cmpSub">Answer honestly â€” there are no wrong answers.</div>

    <!-- Progress bar -->
    <div style="display:flex;align-items:center;gap:10px;margin-top:12px">
      <div style="flex:1;height:6px;background:var(--warm2);border-radius:3px;overflow:hidden">
        <div id="cmpProgress" style="height:100%;background:var(--gold);border-radius:3px;transition:width .4s ease"></div>
      </div>
      <span id="cmpCount" style="font-size:13px;color:var(--ink3);white-space:nowrap;font-weight:500"></span>
    </div>

    <!-- Consistency live indicator -->
    <div id="cmpConsistency" style="display:none;margin-top:10px"></div>
  </div>

  <!-- The single active question card -->
  <div id="cmpCard"></div>

  <!-- Navigation for the quiz -->
  <div class="nav-row" style="margin-top:16px">
    <button class="btn-secondary" id="cmpBackBtn" onclick="cmpBack()">â† Previous</button>
    <button class="btn-primary" id="cmpNextBtn" onclick="cmpNext()">Next â†’</button>
  </div>
</div>

<!-- â•â•â• SCREEN 4: RATE OPTIONS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="screen" id="screen4">
  <div class="screen-title">How does each option <em>perform?</em></div>
  <div class="screen-sub">For each option, rate how good it is on each factor.</div>

  <div id="ratingCards"></div>

  <div class="nav-row">
    <button class="btn-secondary" onclick="goScreen(3)">â† Back</button>
    <button class="btn-primary" id="analyzeBtn" onclick="runAnalysis()">ğŸ§® Analyse Now</button>
  </div>
</div>

<!-- â•â•â• SCREEN 5: RESULTS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="screen" id="screen5">
  <div id="resultsContainer"></div>
  <div id="recommendationBox" class="rec-box"></div>
  <div id="sensitivityBox" class="rec-box"></div>
  <div class="nav-row">
    <button class="btn-secondary" onclick="goScreen(4)">â† Back</button>
    <button class="btn-primary" onclick="startOver()">â†º Start Over</button>
  </div>
</div>

</div> <!---end of main-->

<!-- Floating API config button -->
<div class="api-config">
  <button class="api-toggle" onclick="toggleAPI()" title="API Settings">âš™</button>
  <div class="api-popup" id="apiPopup">
    <label>Backend URL</label>
    <input type="text" id="apiUrl" value="http://localhost:8000" placeholder="http://localhost:8000">
    <div style="font-size:12px;color:var(--ink3);margin-top:8px">FastAPI server address</div>
  </div>
</div>


</body>
</html> 
